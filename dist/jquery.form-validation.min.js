/*! Form Validation - v0.1.0 - 2015-02-28
* https://github.com/djembuka/form-validation
* Copyright (c) 2015 Tatiana; Licensed MIT */
!function(a){"use strict";function b(a,b){this.options=b,this.init(a)}a.fn.form_validation=function(){var c={inputTextClass:"b-input-text",inputCheckboxClass:"b-checkbox",fieldBoxClass:"b-form-field",warningClass:"i-warning",disabledClass:"i-disabled"};return this.each(function(){var d=a(this),e=a.extend({},c);d.data("Form")||new b(this,e)})},b.prototype.init=function(b){this.$elem=a(b),this.$elem.data("Form",this),this.submitFlag=0,this.firstElement=void 0,this.$submitButton=this.$elem.find("[type=submit]"),this.$submitButton.click(this.clickSubmitButton),this.$elem.submit(this.submitForm),this.$elem.find("."+this.options.inputTextClass).focus(this.focusElement)},b.prototype.clickSubmitButton=function(b){var c=a(b.target).closest("form").data("Form");c.$elem.submit(),b.preventDefault()},b.prototype.submitForm=function(b){var c=a(b.target).data("Form");return c.$submitButton.hasClass(c.options.disabledClass)||!c.isValid()?(b.preventDefault(),void(c.testFlag=c.testFlag?"prevent submition":void 0)):void(c.testFlag&&(c.testFlag="form submition",b.preventDefault()))},b.prototype.focusElement=function(b){var c=a(b.target),d=c.closest("form").data("Form");d.removeWarning(c)},b.prototype.setWarning=function(a){a.closest("."+this.options.fieldBoxClass).addClass(this.options.warningClass),a.closest("."+this.options.inputCheckboxClass).addClass(this.options.warningClass),0===this.submitFlag&&(this.firstElement=a),this.submitFlag=1},b.prototype.removeWarning=function(a){a.closest("."+this.options.fieldBoxClass).removeClass(this.options.warningClass)},b.prototype.isValid=function(){function b(){var a;return i.submitFlag=0,i.firstElement=void 0,g(),h(),e(),f(),0===i.submitFlag?!0:(i.firstElement&&(i.firstElement.focus(),d()||(a=i.firstElement.offset().top-50,c(a))),!1)}function c(b){a.scrollTo?a.scrollTo(b,500):window.scroll?window.scroll(0,b):document.documentElement.scrollTop&&(document.documentElement.scrollTop=b)}function d(){var a=window.pageYOffset||document.documentElement.scrollTop;return i.firstElement.offset().top-a>=0}function e(){var b={};i.$elem.find("[data-equal]").each(function(){var c=a(this),d=c.data("equal");b[d]||(b[d]=i.$elem.find("[data-equal="+d+"]"))}),a.each(b,function(c){var d,e=!0,f=a.trim(a(b[c][0]).val());b[c].each(function(){a.trim(a(this).val())!==f&&(e=!1)}),d=e===!1?"setWarning":"removeWarning",b[c].each(function(){i[d](a(this))})})}function f(){i.$elem.find("[required]").each(function(){var b=a(this),c=a.trim(b.val());b.is("input:radio")?0===b.closest("."+i.options.fieldBoxClass).find("input:checked").length&&i.setWarning(b):b.is("input:checkbox")?b.is(":checked")?i.removeWarning(b):i.setWarning(b):b.is("[data-equal]")?""===c&&i.setWarning(b):""===c?i.setWarning(b):b.is("[type=email]")||b.is("[type=tel]")||b.is("[type=number]")||b.is("[type=url]")||i.removeWarning(b)})}function g(){function b(b,c){i.$elem.find(b).each(function(){var b=a(this),d=a.trim(b.val());""===d||c.test(d)?i.removeWarning(b):i.setWarning(b)})}var c,d;i.$elem.find("input:visible:password").each(function(){var b=a(this),c=a.trim(b.val()),d=6;c.length<d?i.setWarning(b):i.removeWarning(b)}),c="[type=email]",d=/^([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})$/i,b(c,d),c="[type=tel]",d=/^([0-9-()\++\s]{5,})$/i,b(c,d),c="[type=number]",d=/^([0-9\s\.,]+)$/i,b(c,d),c="[type=url]",d=/^((https?:\/\/)?(www\.)?([-a-z0-9]+\.)+[a-z]{2,}(\/[-\w]+)?(\/[-\w]+\.[a-z]{2,})?\/?(#[-\w]+)?(\?[-\w=&]+)?)$/i,b(c,d)}function h(){var b={};i.$elem.find("[data-or]").each(function(){var c=a(this),d=c.attr("data-or");b[d]||(b[d]=i.$elem.find("[data-or="+d+"]"))}),a.each(b,function(c){var d,e=0;b[c].each(function(){""!==a.trim(a(this).val())&&e++}),d=0===e?"setWarning":"removeWarning",b[c].each(function(){i[d](a(this))})})}var i=this;return b()}}(jQuery);